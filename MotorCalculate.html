<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>é¦¬é”å·¥ç¨‹è¨ˆç®—å·¥å…·ç®± - å…¨åŠŸèƒ½ç‰ˆ</title>
    <style>
        :root {
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --primary-color: #1a73e8; /* æ—¥é–“è— */
            --accent-bg: #e8f0fe;
            --formula-bg: #fffde7;
            --border-color: #eeeeee;
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --primary-color: #ff9800; /* å¤œé–“æ©˜ */
            --accent-bg: #332200;
            --formula-bg: #2d2d2d;
            --border-color: #333333;
        }

        body { 
            font-family: "Microsoft JhengHei", sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color);
            padding: 20px; 
            transition: all 0.3s ease;
        }

        .header { text-align: center; margin-bottom: 40px; }
        h1 { color: var(--primary-color); }

        /* åˆ‡æ›æŒ‰éˆ• */
        .theme-switch {
            position: fixed; top: 20px; right: 20px;
            padding: 12px 20px; background: var(--primary-color);
            color: #fff; border: none; border-radius: 30px;
            cursor: pointer; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            z-index: 1000;
        }

        /* éŸ¿æ‡‰å¼å®¹å™¨ */
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            justify-content: center;
        }

        /* ç¨ç«‹ç©æœ¨æ¡†æ¶ */
        .block {
            background: var(--card-bg);
            width: 300px;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--primary-color);
            transition: transform 0.2s;
        }
        .block:hover { transform: translateY(-5px); }

        h2 { font-size: 1.1rem; color: var(--primary-color); margin: 0 0 10px 0; border-bottom: 1px solid var(--border-color); padding-bottom: 5px; }
        .formula { background: var(--formula-bg); font-size: 13px; padding: 10px; border-radius: 6px; margin-bottom: 20px; font-weight: bold; border: 1px solid var(--border-color); }
        
        /* å‚ç›´æ’åˆ—è¼¸å…¥é … */
        .input-item { display: flex; flex-direction: column; margin-bottom: 15px; }
        label { font-size: 14px; margin-bottom: 6px; font-weight: bold; }
        input, select { padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; background: var(--card-bg); color: var(--text-color); font-size: 15px; }
        
        .calc-btn {
            background: var(--primary-color);
            color: white; border: none; padding: 12px;
            border-radius: 6px; cursor: pointer; font-weight: bold;
            margin-top: 10px; font-size: 16px;
        }
        .calc-btn:hover { opacity: 0.9; }

        .res-box {
            margin-top: 20px; padding: 15px;
            background: var(--accent-bg); border-radius: 6px;
            font-weight: bold; color: var(--primary-color);
            text-align: center; font-size: 16px; border: 1px dashed var(--primary-color);
        }
    </style>
</head>
<body>

<button class="theme-switch" onclick="toggleTheme()">ğŸŒ“ åˆ‡æ›æ¨¡å¼</button>

<div class="header">
    <h1>é¦¬é”å·¥ç¨‹å°ˆæ¥­è¨ˆç®—å·¥å…·ç®±</h1>
</div>

<div class="container">

    <div class="block">
        <h2>1. åŠŸç‡å–®ä½è½‰æ›</h2>
        <div class="formula">1HP = 0.7457kW / 1kW = 1.341HP</div>
        <div class="input-item">
            <label>é¦¬åŠ› (HP):</label>
            <input type="number" id="hp_in" oninput="convP('hp')" placeholder="è¼¸å…¥ HP">
        </div>
        <div class="input-item">
            <label>åƒç“¦ (kW):</label>
            <input type="number" id="kw_in" oninput="convP('kw')" placeholder="è¼¸å…¥ kW">
        </div>
        <div class="res-box">é›™å‘å³æ™‚åŒæ­¥æ›´æ–°</div>
    </div>

    <div class="block">
        <h2>2. é›»å£“è½‰é€Ÿå›æ¨ Kt</h2>
        
        <div class="formula">Kt = é›»å£“ / (è½‰é€Ÿ * 0.1047)</div>
        <div class="input-item">
            <label>é›»å£“ (V):</label>
            <input type="number" id="kt_v">
        </div>
        <div class="input-item">
            <label>è½‰é€Ÿ (RPM):</label>
            <input type="number" id="kt_n">
        </div>
        <button class="calc-btn" onclick="calcKt()">è¨ˆç®— Kt å€¼</button>
        <div id="kt_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    <div class="block">
        <h2>3. åé›»å‹•å‹¢æ›ç®—</h2>
        
        <div class="formula">BEMF = (è½‰é€Ÿ / 1000) * Ke</div>
        <div class="input-item">
            <label>è½‰é€Ÿ (RPM):</label>
            <input type="number" id="be_n">
        </div>
        <div class="input-item">
            <label>Ke å¸¸æ•¸ (V/krpm):</label>
            <input type="number" id="be_ke">
        </div>
        <button class="calc-btn" onclick="calcBe()">è¼¸å‡ºåé›»å‹•å‹¢</button>
        <div id="be_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    <div class="block">
        <h2>4. é¦¬é”é »ç‡è¨ˆç®—</h2>
        <div class="formula">f = (æ¥µæ•¸ * è½‰é€Ÿ) / (120 * (1 - s))</div>
        <div class="input-item">
            <label>æ¥µæ•¸ (P):</label>
            <input type="number" id="f_p">
        </div>
        <div class="input-item">
            <label>è½‰é€Ÿ (RPM):</label>
            <input type="number" id="f_n">
        </div>
        <div class="input-item">
            <label>è½‰å·®ç™¾åˆ†æ¯” (%):</label>
            <input type="number" id="f_s" value="0">
        </div>
        <button class="calc-btn" onclick="calcF()">è¨ˆç®—é »ç‡ (Hz)</button>
        <div id="f_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    <div class="block">
        <h2>5. é›»æ°£åŠŸç‡è¨ˆç®—</h2>
        

[Image of three phase power diagram]

        <div class="formula">åŠŸç‡(W) = 1.732 * V * I * PF * Î·</div>
        <div class="input-item">
            <label>é›»å£“ (V):</label>
            <input type="number" id="p1_v">
        </div>
        <div class="input-item">
            <label>é›»æµ (A):</label>
            <input type="number" id="p1_i">
        </div>
        <div class="input-item">
            <label>åŠŸç‡å› æ•¸ (PF):</label>
            <input type="number" id="p1_pf" value="0.85">
        </div>
        <div class="input-item">
            <label>æ•ˆç‡ (Î·):</label>
            <input type="number" id="p1_e" value="0.90">
        </div>
        <button class="calc-btn" onclick="calcP1()">è¨ˆç®—åŠŸç‡</button>
        <div id="p1_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    <div class="block">
        <h2>6. æ©Ÿæ¢°åŠŸç‡è¨ˆç®—</h2>
        <div class="formula">åŠŸç‡(W) = (æ‰­çŸ© * è½‰é€Ÿ) / 9.55</div>
        <div class="input-item">
            <label>æ‰­çŸ© (Nm):</label>
            <input type="number" id="p2_t">
        </div>
        <div class="input-item">
            <label>è½‰é€Ÿ (RPM):</label>
            <input type="number" id="p2_n">
        </div>
        <button class="calc-btn" onclick="calcP2()">è¨ˆç®—åŠŸç‡</button>
        <div id="p2_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    <div class="block">
        <h2>7. ç¹çµ„é›»æ„Ÿè¨ˆç®—</h2>
        

[Image of motor Wye and Delta connection]

        <div class="formula">Y: å–®ç›¸=L/2 | D: å–®ç›¸=L*1.5</div>
        <div class="input-item">
            <label>æ¥ç·šæ–¹å¼:</label>
            <select id="l_mode">
                <option value="Y">Y æ¥ (æ˜Ÿå½¢)</option>
                <option value="D">Delta æ¥ (ä¸‰è§’å½¢)</option>
            </select>
        </div>
        <div class="input-item">
            <label>ç·šé–“å¹³å‡é›»æ„Ÿ (mH):</label>
            <input type="number" id="l_val">
        </div>
        <button class="calc-btn" onclick="calcL()">æ›ç®—å–®ç›¸é›»æ„Ÿ</button>
        <div id="l_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    

        <div class="block">

            <h2>8. ä¸‰ç›¸ Y æ¥ç­‰æ•ˆé›»è·¯</h2>

            

            <div class="formula">I = V_ph / sqrt((Rs+Rr/s)Â² + XÂ²)</div>

            <div class="input-item">

                <label>ç›¸é›»å£“ (V_ph):</label>

                <input type="number" id="ec_v" placeholder="Line V / 1.732">

            </div>

            <div class="input-item">

                <label>å®šå­é›»é˜» Rs (Î©):</label>

                <input type="number" id="ec_rs">

            </div>

            <div class="input-item">

                <label>ç¸½æ„ŸæŠ— X (Î©):</label>

                <input type="number" id="ec_x">

            </div>

            <div class="input-item">

                <label>è½‰å·®ç‡ (s):</label>

                <input type="number" id="ec_s" value="0.05">

            </div>

            <button class="calc-btn" onclick="calcEC()">æ¨ç®—è² è¼‰é›»æµ</button>

            <div id="ec_res" class="res-box">ç­‰å¾…è¨ˆç®—...</div>

        </div>

    

        <div class="block" style="width: 650px; flex-direction: row; flex-wrap: wrap; gap: 20px;">

            <h2 style="width: 100%;">9. é¦¬é”ç­‰æ•ˆé›»è·¯åƒæ•¸è¨ˆç®— (ç”±æ¸¬è©¦æ•¸æ“š)</h2>

            

            <div class="sub-block">

                <h3>ç›´æµé›»é˜»æ¸¬è©¦ (DC Test)</h3>

                <div class="input-item">

                    <label>æ¥ç·šæ–¹å¼:</label>

                    <select id="eq_conn_type">

                        <option value="Y">Y æ¥ (æ˜Ÿå½¢)</option>

                        <option value="D">Delta æ¥ (ä¸‰è§’å½¢)</option>

                    </select>

                </div>

                <div class="input-item">

                    <label>ç›´æµé›»å£“ Vdc (V):</label>

                    <input type="number" id="eq_vdc">

                </div>

                <div class="input-item">

                    <label>ç›´æµé›»æµ Idc (A):</label>

                    <input type="number" id="eq_idc">

                </div>

            </div>

    

            <div class="sub-block">

                <h3>ç„¡è¼‰æ¸¬è©¦ (No-Load Test)</h3>

                <div class="input-item">

                    <label>ç·šé›»å£“ Vâ‚€ (V):</label>

                    <input type="number" id="eq_v0">

                </div>

                <div class="input-item">

                    <label>ç·šé›»æµ Iâ‚€ (A):</label>

                    <input type="number" id="eq_i0">

                </div>

                <div class="input-item">

                    <label>ç¸½åŠŸç‡ Pâ‚€ (W):</label>

                    <input type="number" id="eq_p0">

                </div>

            </div>

    

            <div class="sub-block">

                <h3>å µè½‰æ¸¬è©¦ (Blocked-Rotor Test)</h3>

                <div class="input-item">

                    <label>ç·šé›»å£“ Vsc (V):</label>

                    <input type="number" id="eq_vsc">

                </div>

                <div class="input-item">

                    <label>ç·šé›»æµ Isc (A):</label>

                    <input type="number" id="eq_isc">

                </div>

                <div class="input-item">

                    <label>ç¸½åŠŸç‡ Psc (W):</label>

                    <input type="number" id="eq_psc">

                </div>

            </div>

    

            <div style="width: 100%; text-align: center; margin-top: 10px;">

                 <div class="input-item" style="display: inline-block; margin-right: 20px;">

                    <label>é›†è†šæ•ˆæ‡‰ä¿‚æ•¸ (Skin Effect Factor):</label>

                    <input type="number" id="eq_skin" value="1.25" style="width: 150px;">

                </div>

                <button class="calc-btn" onclick="calcEquivCircuit()" style="padding: 12px 30px;">è¨ˆç®—ç­‰æ•ˆé›»è·¯åƒæ•¸</button>

            </div>

    

            <div id="eq_res" class="res-box" style="width: 100%; text-align: left; padding: 20px; font-size: 15px; line-height: 1.8;">ç­‰å¾…è¨ˆç®—...</div>

        </div>

    

    </div>

    

    <script>

        // ä¸»é¡Œåˆ‡æ›

        function toggleTheme() {

            const body = document.documentElement;

            body.getAttribute('data-theme') === 'dark' ? body.removeAttribute('data-theme') : body.setAttribute('data-theme', 'dark');

        }

    

        // 1. HP to kW

        function convP(type) {

            let hp = document.getElementById('hp_in'), kw = document.getElementById('kw_in');

            if(type==='hp') kw.value = (hp.value * 0.7457).toFixed(4);

            else hp.value = (kw.value * 1.341).toFixed(4);

        }

    

        // 2. Kt

        function calcKt() {

            let v = document.getElementById('kt_v').value, n = document.getElementById('kt_n').value;

            if(n > 0) document.getElementById('kt_res').innerText = "Kt: " + (v / (n * 0.1047)).toFixed(4) + " Nm/A";

        }

    

        // 3. BEMF

        function calcBe() {

            let n = document.getElementById('be_n').value, ke = document.getElementById('be_ke').value;

            document.getElementById('be_res').innerText = "BEMF: " + ((n / 1000) * ke).toFixed(2) + " V";

        }

    

        // 4. Frequency

        function calcF() {

            let p = document.getElementById('f_p').value, n = document.getElementById('f_n').value, s = document.getElementById('f_s').value / 100;

            if(p && n) document.getElementById('f_res').innerText = "é »ç‡: " + ((p * n) / (120 * (1 - s))).toFixed(2) + " Hz";

        }

    

        // 5. Electrical Power

        function calcP1() {

            let v = document.getElementById('p1_v').value, i = document.getElementById('p1_i').value;

            let pf = document.getElementById('p1_pf').value, e = document.getElementById('p1_e').value;

            let w = 1.732 * v * i * pf * e;

            document.getElementById('p1_res').innerText = "åŠŸç‡: " + (w/1000).toFixed(3) + " kW";

        }

    

        // 6. Mechanical Power

        function calcP2() {

            let t = document.getElementById('p2_t').value, n = document.getElementById('p2_n').value;

            let w = (t * n) / 9.55;

            document.getElementById('p2_res').innerText = "åŠŸç‡: " + (w/1000).toFixed(3) + " kW";

        }

    

        // 7. Inductance

        function calcL() {

            let val = parseFloat(document.getElementById('l_val').value), mode = document.getElementById('l_mode').value;

            document.getElementById('l_res').innerText = "å–®ç›¸ç¹çµ„: " + (mode === 'Y' ? val / 2 : val * 1.5).toFixed(4) + " mH";

        }

    

        // 8. Equivalent Circuit

        function calcEC() {

            let v = parseFloat(document.getElementById('ec_v').value), rs = parseFloat(document.getElementById('ec_rs').value);

            let x = parseFloat(document.getElementById('ec_x').value), s = parseFloat(document.getElementById('ec_s').value) || 0.001;

            let z = Math.sqrt(Math.pow(rs + (rs/s), 2) + Math.pow(x, 2));

            document.getElementById('ec_res').innerText = "ç›¸é›»æµ: " + (v / z).toFixed(2) + " A";

        }

    

        // 9. Equivalent Circuit from Test Data

        function calcEquivCircuit() {

            const conn_type = document.getElementById('eq_conn_type').value;

            const v_dc = parseFloat(document.getElementById('eq_vdc').value);

            const i_dc = parseFloat(document.getElementById('eq_idc').value);

            const skin_factor = parseFloat(document.getElementById('eq_skin').value);

    

            const v0_line = parseFloat(document.getElementById('eq_v0').value);

            const i0_line = parseFloat(document.getElementById('eq_i0').value);

            const p0_total = parseFloat(document.getElementById('eq_p0').value);

    

            const vsc_line = parseFloat(document.getElementById('eq_vsc').value);

            const isc_line = parseFloat(document.getElementById('eq_isc').value);

            const psc_total = parseFloat(document.getElementById('eq_psc').value);

            

            const sqrt3 = Math.sqrt(3);

    

            // 1. DC Test -> R1

            let r_dc_per_phase = 0;

            if (conn_type === 'Y') {

                r_dc_per_phase = v_dc / (2 * i_dc);

            } else { // Delta

                r_dc_per_phase = (3 / 2) * (v_dc / i_dc);

            }

            const R1 = r_dc_per_phase * skin_factor;

    

            // 2. No-Load Test -> Rc, Xm

            let v0_ph, i0_ph;

            if (conn_type === 'Y') {

                v0_ph = v0_line / sqrt3;

                i0_ph = i0_line;

            } else { // Delta

                v0_ph = v0_line;

                i0_ph = i0_line / sqrt3;

            }

            

            const p_stator_copper_0 = 3 * i0_ph * i0_ph * R1;

            const p_core_fw = p0_total - p_stator_copper_0;

            

            const Rc = (v0_ph * v0_ph) / (p_core_fw / 3);

            

            const i_core = v0_ph / Rc;

            const i_mag_squared = (i0_ph * i0_ph) - (i_core * i_core);

            const i_mag = i_mag_squared > 0 ? Math.sqrt(i_mag_squared) : 0;

            const Xm = v0_ph / i_mag;

    

            // 3. Blocked-Rotor Test -> R2', X1, X2'

            let vsc_ph, isc_ph;

            if (conn_type === 'Y') {

                vsc_ph = vsc_line / sqrt3;

                isc_ph = isc_line;

            } else { // Delta

                vsc_ph = vsc_line;

                isc_ph = isc_line / sqrt3;

            }

    

            const R_sc = psc_total / (3 * isc_ph * isc_ph);

            const Z_sc = vsc_ph / isc_ph;

            const X_sc_squared = (Z_sc * Z_sc) - (R_sc * R_sc);

            const X_sc = X_sc_squared > 0 ? Math.sqrt(X_sc_squared) : 0;

            

            const R2_prime = R_sc - R1;

    

            // Assuming X1 = X2' for squirrel cage motors

            const X1 = X_sc / 2;

            const X2_prime = X_sc / 2;

            

            // Display results

            const resDiv = document.getElementById('eq_res');

            resDiv.innerHTML = `

                <h3>è¨ˆç®—çµæœ:</h3>

                <ul>

                    <li>å®šå­é›»é˜» (R1): <strong>${R1.toFixed(4)} Î©</strong></li>

                    <li>è½‰å­é›»é˜» (R2'): <strong>${R2_prime.toFixed(4)} Î©</strong></li>

                    <li>éµæé›»é˜» (Rc): <strong>${Rc.toFixed(4)} Î©</strong></li>

                    <li>æ¿€ç£é›»æŠ— (Xm): <strong>${Xm.toFixed(4)} Î©</strong></li>

                    <li>å®šå­æ¼é›»æŠ— (X1): <strong>${X1.toFixed(4)} Î©</strong></li>

                    <li>è½‰å­æ¼é›»æŠ— (X2'): <strong>${X2_prime.toFixed(4)} Î©</strong></li>

                </ul>

            `;

        }

    </script>

    

    </body>

    </html>

    